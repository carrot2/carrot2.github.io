{"componentChunkName":"component---node-modules-carrotsearch-gatsby-theme-apidocs-templates-documentation-page-js","path":"/v4.1.x/","result":{"data":{"site":{"siteMetadata":{"title":"Carrot2 docs","description":"User and developer manual for the Carrot2 text clustering engine.","lang":"en","indexAlias":"/hello-carrot2/"}},"html":{"frontmatter":{"id":"v4.1.x","title":"Carrot2 4.1.x"},"html":"<article>\n  <h1>Carrot<sup>2</sup> 4.1.x</h1>\n\n  <p id=\"ec990bad\">\n    Release history for Carrot2 4.1.x and bugfix releases.\n  </p>\n\n  <section id=\"4.1.0\" data-toc=\"omit-children\">\n    <h2>\n        <a class=\"anchor\" href=\"#4.1.0\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Version 4.1.0\n      </h2>\n    <time datetime=\"2021-01-04\"></time>\n\n    <p id=\"4.1.0:5d412ec5\">\n      This release changes the lexical data dictionary formats,\n      adds ephemeral per-request dictionaries and introduces minor adjustments\n      to Java and REST APIs.\n    </p>\n\n    <section id=\"4.1.0:new-features\">\n      <h3>\n        <a class=\"anchor\" href=\"#4.1.0:new-features\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>New features\n      </h3>\n\n      <dl>\n        <dt>Carrot<sup>2</sup> Workbench</dt>\n        <dd>\n          <p id=\"4.1.0:new-features:0ea385fc\">\n            Carrot<sup>2</sup> Clustering Workbench has been rewritten as\n            a browser-based application.\n          </p>\n\n          <figure>\n            <div class=\"img\" style=\"position: relative\"><span style=\"padding-bottom: 56.111111111111114%; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2klEQVQoz12TW4/TMBCF85Ngge6SXQkJJJ545IVfzCPiBaSWXnJr7MR2LnZuTdKDZqrstjuSpWQy/jxnjuN9/vIVm80GaZqiKEtoUyDLMkiZIUkSHI9HRFGEuq4xzzPGccTpdLpaI6ZpQtd1sM7Be/CfsF6vIYSA0gamrFGWhp+1MVx4AQ2w1qJtWwacz2c0TYNMaa6hoAO8N3fvkAqBqq5RW3tZlUaeSWitGcbFQwMpBQOXICCpoGZIwTAM8Fb3PoIg4A+HwwF5rhiYJDHyPOduKIbe4XiMYa3j7iio4zAMeVxUyx2+X33Ev+0WZVnyMkXBQClShl8DhUhZ3jPQOQRhhP1+z3O/dPjgc5JkswmpQFko3myMeZHcN4hjMsdeSW65M6pbZut9uPex2x+glEZVVSjKCq4uGEgzAs5XkpNnAyj64YRcGzRti3GaMM8TvLuVj19/1pBpCuccz6hvLbJMvgI2yPOLrCXXdw5ZnqEw6sWUt6tH/Pz9F4VWDCSXu6ZCFAYsZ5E8dBZRFNya4i6mJHHMd5X2e49PnyCk5BNIMiX7roFz9saAaTqxq3Sxlxzt2W632O12bAwDv33/gSAM+Y8gU5RSN3OiWACv3+lWxFEEKQS7TMb8B2abMwHFTSmpAAAAAElFTkSuQmCC')\" class=\"preview light\"> </span><img class=\"light\" alt=\"Carrot2 Clustering Workbench, light theme.\" title=\"\" src=\"../static/6ea5d89eb10da4b77621bc4ca43f2b00/eefce/carrot2-workbench-light.png\" srcset=\"../static/6ea5d89eb10da4b77621bc4ca43f2b00/dfaee/carrot2-workbench-light.png 180w,\n../static/6ea5d89eb10da4b77621bc4ca43f2b00/4d463/carrot2-workbench-light.png 360w,\n../static/6ea5d89eb10da4b77621bc4ca43f2b00/eefce/carrot2-workbench-light.png 720w,\n../static/6ea5d89eb10da4b77621bc4ca43f2b00/dabea/carrot2-workbench-light.png 1080w,\n../static/6ea5d89eb10da4b77621bc4ca43f2b00/87339/carrot2-workbench-light.png 1440w,\n../static/6ea5d89eb10da4b77621bc4ca43f2b00/022a0/carrot2-workbench-light.png 3840w\" sizes=\"(max-width: 720px) 100vw, 720px\"></div>\n            <div class=\"img\" style=\"position: relative\"><span style=\"padding-bottom: 56.111111111111114%; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACC0lEQVQoz1WT63KbMBCFeQqn09jxBYwBc5GELmAJE2zsXDtt0nb6/k9yOlrXmeaHZsSO9tM5Z1EQpgVqe4BoB5TNAPvwDuVGMNNDuxHKHmG6EzLWYLGpsEo5wkx8rFUmsEwY4kIhqQyC2TKC6kZIN8I+/UL38gfSHpBLh1I5xLnEYlMiTBlSZhAXkgDzuMCmVKhMT7XbMEMuWgSTrzPkuid1Cd8hqx2E6cDNBehh02iLTc5Rt5fmu3WOma+VEtodIO2AaCtwenlDcDNbotQd2VTuiEJ1EMbRQWb2WCYVNSeFoFpSaVJHtUrD7EfI3UDqz69vCL7MVmDNPbZih4Q12NaWgF4NM90noNzdk8LPwBPs8ICtaHD2CifTBYQdofZn8HaAsEfIXU/AUlqyTPYKAdMdScn8n2UPZ7pDqS7nxqfvCG6mS7B2oHA3lUHKWxR1Q2p86Ndmr1C5Aeu8pgz98lMulMOm1LhdZTh64GQWgvfPlENUKES5QrzlEM3+AiR7OSnkpkOYcczj6yU11bh2NJTz6zuCyV0EMb6hUo6A61KTmrY/UYbXKadljbYfkf43FL9v9iNFwZs9nn/8RnAXJohLTVa95SiXiDJOh70930z20gop01il7AOYMQN7eIQ7PNKvQ8CCS/CmR727vJa8tvQapmFGVj3sCvWQ67dX7Ser3RF1e0/7x28/8RckillxKItyowAAAABJRU5ErkJggg==')\" class=\"preview dark\"> </span><img class=\"dark\" alt=\"Carrot2 Clustering Workbench, dark theme.\" title=\"\" src=\"../static/a21ec4bd9d8acdc10eaa0cf9c8b400a8/eefce/carrot2-workbench-dark.png\" srcset=\"../static/a21ec4bd9d8acdc10eaa0cf9c8b400a8/dfaee/carrot2-workbench-dark.png 180w,\n../static/a21ec4bd9d8acdc10eaa0cf9c8b400a8/4d463/carrot2-workbench-dark.png 360w,\n../static/a21ec4bd9d8acdc10eaa0cf9c8b400a8/eefce/carrot2-workbench-dark.png 720w,\n../static/a21ec4bd9d8acdc10eaa0cf9c8b400a8/dabea/carrot2-workbench-dark.png 1080w,\n../static/a21ec4bd9d8acdc10eaa0cf9c8b400a8/87339/carrot2-workbench-dark.png 1440w,\n../static/a21ec4bd9d8acdc10eaa0cf9c8b400a8/022a0/carrot2-workbench-dark.png 3840w\" sizes=\"(max-width: 720px) 100vw, 720px\"></div>\n          </figure>\n\n          <p id=\"4.1.0:new-features:d6cb1011\">\n            You can use Workbench to cluster documents from local XML, JSON,\n            Excel and CSV files, as well as Solr and Elasticsearch instances.\n            A set of sliders is available to change clustering parameters\n            in real time; you can also export the parameters JSON ready for\n            pasting into REST API requests. Finally, you can export the\n            clustering results as JSON or Excel spreadsheet.\n          </p>\n\n          <label class=\"frontend\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/36\">#36</a>\n        </dd>\n\n        <dt id=\"4.1.0:new-features:json-dictionaries\">JSON dictionaries</dt>\n        <dd>\n          <p id=\"4.1.0:new-features:d473a0eb\">\n            Carrot<sup>2</sup> word and label filtering\n            <a href=\"/dictionaries/\">dictionaries</a> are now stored in the\n            JSON format. This change adds more expressive matching modes, such\n            as globs for simple phrase-level filtering or regular expressions\n            for complete control of the filtering.\n            Please refer to the <a href=\"/dictionaries/\">dictionaries</a>\n            section for an in-depth overview of what's available.\n          </p>\n\n          <p id=\"4.1.0:new-features:7c831489\">\n            As a follow-up, the <a href=\"#4.1.0:api-changes:plain-text-dictionaries-deprecated\">\n            plain-text dictionaries have been deprecated</a>\n            and the file naming convention for the default dictionary files\n            has changed. A <a href=\"#4.1.0:api-changes:plain-text-dictionaries-deprecated:conversion-utility\">\n            dictionary file conversion utility</a> is available.\n          </p>\n\n          <label class=\"java-api\"></label>\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/51\">#51</a>\n        </dd>\n\n        <dt>Per-request dictionaries</dt>\n        <dd>\n          <p id=\"4.1.0:new-features:960fa2f8\">\n            Per-request (ephemeral) label and word\n            filtering support has been added. This feature allows passing\n            per-request word and cluster label filters to be applied in\n            addition to the default language resources. See <a href=\"/java-language-components/#ephemeral-dictionaries\">ephemeral\n            dictionary section in the Java API</a> and <a href=\"/rest-api-basics/#per-request-dictionaries\">REST API</a>\n            sections for more information.\n          </p>\n\n          <label class=\"java-api\"></label>\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/44\">#44</a>\n        </dd>\n      </dl>\n    </section>\n\n    <section id=\"4.1.0:api-changes\">\n      <h3>\n        <a class=\"anchor\" href=\"#4.1.0:api-changes\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API changes\n      </h3>\n\n      <dl>\n        <dt id=\"4.1.0:api-changes:plain-text-dictionaries-deprecated\">\n          Plain text dictionaries deprecated\n        </dt>\n        <dd>\n\n          <p id=\"4.1.0:api-changes:85284d20\">\n            As a follow-up to the\n            <a href=\"#4.1.0:new-features:json-dictionaries\">JSON dictionaries</a>\n            new feature, the plain-text-based format has been deprecated.\n          </p>\n\n          <p id=\"4.1.0:api-changes:d6555a8f\">\n            <strong>File naming convention for default language resources\n            has changed.</strong> For backward compatibility, if old resources\n            can be found in the resource lookup location, they will still be\n            used and a warning will be issued via Java logging system.\n          </p>\n\n          <p id=\"4.1.0:api-changes:plain-text-dictionaries-deprecated:conversion-utility:4.1.0:api-changes:plain-text-dictionaries-deprecated:conversion-utility\">\n            If you have language resources in the old format,\n            please convert them to the JSON format. A simple\n            utility is included in Carrot<sup>2</sup> core JAR and can help\n            with the conversion. Just run it with:\n          </p>\n\n          <pre><code data-language=\"shell\">java -cp carrot2-core-4.1.0.jar org.carrot2.language.ConvertLegacyResources [dir]</code></pre>\n\n          <p id=\"4.1.0:api-changes:fa72aca1\">\n            Where <code>dir</code> points to a directory with old resources. New\n            resources in their corresponding naming convention will be written\n            alongside old resources. The old resource must be manually deleted\n            once the conversion completes successfully.\n          </p>\n\n          <label class=\"java-api\"></label>\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/51\">#51</a>\n        </dd>\n\n        <dt>More details from <code>/list</code> method</dt>\n        <dd>\n          <p id=\"4.1.0:api-changes:085e0aaa\">\n            The <a href=\"/rest-api-basics/#service-configuration\"><code>/service/list</code></a>\n            endpoint of the REST API now returns the language and algorithm\n            for all of the available request templates.\n          </p>\n\n          <p id=\"4.1.0:api-changes:d473a059\">\n            The response format of the endpoint has changed. Previously, the\n            <code>templates</code> element was a list of template names, now it\n            will contain an object with template names as keys and template\n            content as values, for example:\n          </p>\n\n          <pre><code data-language=\"json\">...\n<span class=\"hljs-attr\">\"templates\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"english-lingo\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"language\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"English\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"algorithm\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lingo\"</span>\n  <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"stc\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"algorithm\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"STC\"</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span></code></pre>\n\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/38\">#38</a>\n        </dd>\n\n        <dt>Lingo filter parameter change</dt>\n        <dd>\n          <p id=\"4.1.0:api-changes:8d9d0de7\">\n            Lingo algorithm's <a href=\"/lingo-parameters/#preprocessing.labelFilters\">filter\n            parameters</a> have been changed from Booleans to proper objects with\n            a dedicated <code>enabled</code> parameter. Unless you used these\n            attributes explicitly, no action is needed.\n          </p>\n\n          <label class=\"java-api\"></label>\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/43\">#43</a>\n        </dd>\n\n        <dt><code>LexicalData</code> interface split</dt>\n        <dd>\n          <p id=\"4.1.0:api-changes:7d57b7cf\">\n            The <code>LexicalData</code> interface (<code>LanguageComponents</code>\n            component) has been split into two independent components: <code>StopwordFilter</code>\n            and <code>LabelFilter</code>. The default implementations and\n            abstract classes have been changed accordingly.\n          </p>\n\n          <label class=\"java-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/45\">#45</a>\n        </dd>\n      </dl>\n    </section>\n\n    <section id=\"4.1.0:improvements\">\n      <h3>\n        <a class=\"anchor\" href=\"#4.1.0:improvements\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Improvements\n      </h3>\n\n      <dl>\n        <dt>GZIP compression</dt>\n        <dd>\n          <p id=\"4.1.0:improvements:61f5311f\">\n            REST API built-in server now supports GZIP compression.\n          </p>\n\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/66\">#66</a>\n        </dd>\n\n        <dt>Request processing information</dt>\n        <dd>\n          <p id=\"4.1.0:improvements:9b1a7883\">\n            Added clustering and request processing time information to\n            clustering response. This information is optional and is returned\n            when the <code>serviceInfo</code>HTTP parameter is enabled on a\n            clustering request.\n          </p>\n\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/35\">#35</a>\n        </dd>\n\n        <dt>Java module system support improved</dt>\n        <dd>\n          <p id=\"4.1.0:improvements:9ee31023\">\n            Improved support for the Java module system by providing\n            the <code>Automatic-Module-Name</code> entry in JAR manifests.\n          </p>\n\n          <label class=\"java-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/59\">#59</a>\n        </dd>\n      </dl>\n    </section>\n\n    <section id=\"4.1.0:bug-fixes\">\n      <h3>\n        <a class=\"anchor\" href=\"#4.1.0:bug-fixes\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bug fixes\n      </h3>\n\n      <dl>\n        <dt>Clustering of multi-value fields fails</dt>\n        <dd>\n          <p id=\"4.1.0:bug-fixes:124c2578\">\n            Carrot<sup>2</sup> 4.0.x fails to cluster documents containing\n            multi-value fields (array of strings). Version 4.1.0 fixes the issue.\n          </p>\n\n          <label class=\"rest-api\"></label>\n          <a href=\"https://github.com/carrot2/carrot2/issues/34\">#34</a>\n        </dd>\n      </dl>\n    </section>\n\n    <section id=\"4.1.0:infrastructure\">\n      <h3>\n        <a class=\"anchor\" href=\"#4.1.0:infrastructure\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Infrastructure\n      </h3>\n\n      <dl>\n        <dt>Dependency updates</dt>\n        <dd>\n          <p id=\"4.1.0:infrastructure:28cceee3\">\n            Third-party dependencies have been upgrade to their newest versions:\n          </p>\n\n          <ul>\n            <li id=\"4.1.0:infrastructure:59801899\">Apache Lucene: 8.7.0</li>\n            <li id=\"4.1.0:infrastructure:38550fe8\">Jetty: v20201120</li>\n            <li id=\"4.1.0:infrastructure:1ce100c6\">Jackson: 2.12.0</li>\n          </ul>\n\n          <p id=\"4.1.0:infrastructure:3c5a0ada\">\n            <label class=\"dependencies\"></label>\n            <a href=\"https://github.com/carrot2/carrot2/issues/61\">#61</a>\n            <a href=\"https://github.com/carrot2/carrot2/issues/33\">#33</a>\n          </p>\n        </dd>\n\n        <dt>IntelliJ experience</dt>\n        <dd>\n          <p id=\"4.1.0:infrastructure:59f3b28d\">\n            Only recompile code under IntelliJ IDEA to improve developer experience.\n          </p>\n\n          <p id=\"4.1.0:infrastructure:c675db2c\">\n            <label class=\"build\"></label>\n            <a href=\"https://github.com/carrot2/carrot2/issues/37\">#37</a>\n          </p>\n        </dd>\n      </dl>\n    </section>\n  </section>\n</article>","tableOfContents":[{"heading":"Version 4.1.0","anchor":"4.1.0"}]}},"pageContext":{"slug":"/v4.1.x/"}},"staticQueryHashes":["2081922839"]}