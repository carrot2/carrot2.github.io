{"componentChunkName":"component---node-modules-carrotsearch-gatsby-theme-apidocs-templates-documentation-page-js","path":"/java-extension-points/","result":{"data":{"html":{"frontmatter":{"id":"java-extension-points","title":"Extension Points"},"html":"<article>\n  <h1>Extension Points</h1>\n\n  <p id=\"86de8e81af9ecfe254d68fa0\">\n    This article discusses dynamic discovery of available Carrot<sup>2</sup> components via\n    service extension points.\n  </p>\n\n  <p id=\"ed1721417ad8719ee92eaaf1\">\n    Many Carrot<sup>2</sup> components, including algorithms, language components and\n    their building blocks, are implemented as\n    service extension points. While they can be referenced directly using explicit class\n    names (<code>new LingoClusteringAlgorithm()</code>), you can also\n    enumerate and inspect their properties dynamically.\n  </p>\n\n  <p id=\"636180871213568fcb6436cc\">\n    The following code enumerates\n    all available algorithm providers, checks if the given algorithm supports the English language\n    and clusters the same stream of documents repeatedly.\n  </p>\n\n  <div class=\"gatsby-highlight\">\n    <pre class=\"language-java\"><code data-language=\"java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ClusteringAlgorithmProvider</span><span class=\"token punctuation\">></span></span> providers <span class=\"token operator\">=</span>\n    <span class=\"token class-name\">ServiceLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ClusteringAlgorithmProvider</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Provider</span><span class=\"token operator\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClusteringAlgorithmProvider</span> provider <span class=\"token operator\">:</span> providers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Clustering algorithm: \"</span> <span class=\"token operator\">+</span> provider<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">ClusteringAlgorithm</span> algorithm <span class=\"token operator\">=</span> provider<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>algorithm<span class=\"token punctuation\">.</span><span class=\"token function\">supports</span><span class=\"token punctuation\">(</span>english<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Cluster</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Document</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> clusters <span class=\"token operator\">=</span>\n        algorithm<span class=\"token punctuation\">.</span><span class=\"token function\">cluster</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ExamplesData</span><span class=\"token punctuation\">.</span><span class=\"token function\">documentStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> english<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">ExamplesCommon</span><span class=\"token punctuation\">.</span><span class=\"token function\">printClusters</span><span class=\"token punctuation\">(</span>clusters<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> english<span class=\"token punctuation\">.</span><span class=\"token function\">language</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"  (Language not supported: \"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\").\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n  </div>\n\n  <p id=\"47ba4d4e276a4323493043a1\">\n    A similar service extension point exists for language component providers, this time\n    we use a facade method that does additional sanity checks for us\n    before returning the result:\n  </p>\n\n  <div class=\"gatsby-highlight\">\n    <pre class=\"language-java\"><code data-language=\"java\"><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"Language components for the following languages are available:\\n  \"</span>\n        <span class=\"token operator\">+</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", \"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">LanguageComponents</span><span class=\"token punctuation\">.</span><span class=\"token function\">loader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">languages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n  </div>\n</article>","tableOfContents":[]}},"pageContext":{"slug":"/java-extension-points/"}},"staticQueryHashes":["1164750013"]}