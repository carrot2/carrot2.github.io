{"componentChunkName":"component---node-modules-carrotsearch-gatsby-theme-apidocs-templates-documentation-page-js","path":"/rest-api-basics/","result":{"data":{"site":{"siteMetadata":{"title":"Carrot2 docs","description":"User and developer manual for the Carrot2 text clustering engine.","lang":"en","indexAlias":"/hello-carrot2/"}},"html":{"frontmatter":{"id":"rest-api-basics","title":"REST API Basics"},"html":"<article>\n  <h1>REST API Basics</h1>\n\n  <p id=\"ed609c94\">\n    This article will walk you through the methods offered by the Carrot<sup>2</sup> HTTP/REST\n    service.\n  </p>\n\n  <p id=\"4af40b61\">\n    Carrot<sup>2</sup> Document Clustering Server (DCS) exposes Carrot<sup>2</sup> clustering\n    as a stateless HTTP/REST service. The DCS contains:\n  </p>\n\n  <ul>\n    <li>\n      <p id=\"fcb3a3d0\">\n        HTTP REST service endpoints for <a href=\"#clustering\">document clustering</a>,\n        dynamic inspection of <a href=\"#service-configuration\">service components</a>\n        and an <a href=\"#openapi\">OpenAPI descriptor</a>,\n      </p>\n    </li>\n\n    <li>\n      <p id=\"9dfe1a72\">\n        a search engine-like application for clustering data from public sources,\n        such web search results or PubMed abstracts,\n      </p>\n    </li>\n\n    <li>\n      <p id=\"54224e61\">\n        <a href=\"/getting-started/#clustering-your-own-data\">Clustering\n          Workbench</a>, a browser-based application for more advanced users\n        wishing to cluster content from local files (Excel, CSV, JSON), Solr or\n        Elasticsearch engines,\n      </p>\n    </li>\n\n    <li>\n      <p id=\"72124212\">\n        a few Java examples that make use of <a href=\"#models\">model classes</a>\n        and query the REST API,\n      </p>\n    </li>\n\n    <li>\n      <p id=\"ec9fed54\">\n        built-in <a href=\"https://www.eclipse.org/jetty/\" target=\"_blank\">Jetty</a> HTTP server,\n      </p>\n    </li>\n\n    <li>\n      <p id=\"19f05baa\">\n        this documentation.\n      </p>\n    </li>\n  </ul>\n\n  <p id=\"be359fdc\">\n    In the examples below we will refer to the DCS and the REST service interchangeably, although\n    the service application context can be separated and deployed on any other web application\n    container, such as <a href=\"https://tomcat.apache.org/\">Apache Tomcat</a>.\n  </p>\n\n  <section id=\"installation\">\n    <h2>\n        <a class=\"anchor\" href=\"#installation\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installation and running\n      </h2>\n\n    <p id=\"installation:fdc34a32\">\n      To install the Document Clustering Server:\n    </p>\n\n    <ol>\n      <li>\n        <p id=\"installation:54304226\">\n          Make sure you have Java 17 or later available in your system or use a docker\n          container to run the DCS.\n        </p>\n      </li>\n\n      <li>\n        <p id=\"installation:a4a29841\">\n          Download the latest Carrot<sup>2</sup> <a href=\"https://github.com/carrot2/carrot2/releases\" target=\"_blank\">release</a>\n          and extract the archive to a local folder.\n        </p>\n      </li>\n\n      <li>\n        <p id=\"installation:94ba6684\">\n          Run the DCS:\n        </p>\n\n        <pre><code data-language=\"shell\"><span class=\"hljs-meta\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">cd</span> dcs</span>\n<span class=\"hljs-meta\">$ </span><span class=\"language-bash\">./dcs</span></code></pre>\n\n        <p id=\"installation:a8800bb3\">\n          By default, the DCS will bind to port 8080. To change the port number, use\n          the <code>--port</code> command line parameter.\n        </p>\n\n        <pre><code data-language=\"shell\"><span class=\"hljs-meta\">$ </span><span class=\"language-bash\">dcs --port 8080</span>\n09:47:32: DCS context initialized [algorithms: [Bisecting K-Means, Lingo, STC], templates: [frontend-default, lingo, stc, bkmeans]]\n09:47:32: Service started on port 8080.</code></pre>\n\n        <p id=\"installation:b4be493e\">\n          If you need to alter the\n          default JVM options (for example increase the heap), define the <code>DCS_OPTS</code>\n          environment variable and pass any required Java JVM options there. For example (Linux):\n        </p>\n        <pre><code data-language=\"shell\"><span class=\"hljs-meta\">$ </span><span class=\"language-bash\"><span class=\"hljs-built_in\">export</span> DCS_OPTS=-Xmx2g</span></code></pre>\n      </li>\n\n      <li>\n        <p id=\"installation:615a503d\">\n          Alternatively, you may use a docker container to run the DCS. Here is an example using\n          Java 21 and alpine linux:\n        </p>\n\n        <pre><code data-language=\"shell\">docker run -it --rm -v \"$(pwd)/dcs:/dcs\" -p 8080:8080 eclipse-temurin:21-jre-alpine /dcs/dcs</code></pre>\n\n        <p id=\"installation:831c1715\">\n          The <code>-p 8080:8080</code> maps the container's default port 8080 to the host's\n          port 8080.\n        </p>\n      </li>\n\n      <li>\n        <p id=\"installation:e206a375\">\n          Once started, the DCS is ready to accept requests:\n        </p>\n\n        <ul>\n          <li>\n            <p id=\"installation:a96e3052\">\n              <a href=\"http://localhost:8080/service/\" target=\"_blank\">http://localhost:8080/service/</a>\n              – Carrot<sup>2</sup> REST API,\n            </p>\n          </li>\n          <li id=\"installation:b5d49f53\">\n            <a href=\"http://localhost:8080/service/openapi\" target=\"_blank\">http://localhost:8080/service/openapi</a>\n            – OpenAPI documentation,\n          </li>\n          <li id=\"installation:5526d970\">\n            <a href=\"http://localhost:8080/frontend/\" target=\"_blank\">http://localhost:8080/frontend/</a>\n            – search engine application,\n          </li>\n          <li id=\"installation:24645c90\">\n            <a href=\"http://localhost:8080/frontend/#/workbench\" target=\"_blank\">http://localhost:8080/frontend/#/workbench</a>\n            – Carrot<sup>2</sup> Clustering Workbench,\n          </li>\n          <li id=\"installation:c8c68ad8\">\n            <a href=\"http://localhost:8080/javadoc\" target=\"_blank\">http://localhost:8080/doc</a>\n            – this documentation.\n          </li>\n        </ul>\n      </li>\n    </ol>\n  </section>\n\n  <section id=\"workflow\">\n    <h2>\n        <a class=\"anchor\" href=\"#workflow\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API workflow\n      </h2>\n\n    <p id=\"workflow:3475a8c0\">\n      The document clustering service exposes two endpoints:\n    </p>\n\n    <dl>\n      <dt>/service/clustering</dt>\n      <dd>\n        Performs <a href=\"#clustering\">clustering</a> of the documents\n        provided in JSON format, returns clusters in JSON format.\n        This endpoint is stateless, the result is fully determined by the\n        contents of the request JSON.\n      </dd>\n\n      <dt>/service/list</dt>\n      <dd>\n        Returns the list of available algorithms, their supported languages\n        and preconfigured <a href=\"/dcs-templates/\">request templates</a>.\n      </dd>\n    </dl>\n\n    <p id=\"workflow:89af9d32\">\n      The simplest way to perform clustering is to invoke the\n      <a href=\"#clustering\">/service/cluster</a> with a hardcoded algorithm and\n      language, such as <code>Lingo</code> and <code>English</code>. In a more\n      advanced scenario, you may want to first request the list of algorithms\n      and languages from <a href=\"#service-configuration\">/service/list</a>.\n    </p>\n  </section>\n\n  <section id=\"clustering\">\n    <h2>\n        <a class=\"anchor\" href=\"#clustering\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Clustering\n      </h2>\n\n    <p id=\"clustering:9230e3bc\">\n      To cluster documents, send a POST request to the <code>/service/cluster</code>\n      endpoint containing a JSON object with the documents to cluster,\n      the clustering algorithm and language to use and, optionally, clustering\n      parameters to apply.\n    </p>\n\n    <figure>\n      <pre><code data-language=\"json\"><mark>POST /service/cluster HTTP/<span class=\"hljs-number\">1.1</span></mark>\n<mark>Host<span class=\"hljs-punctuation\">:</span> localhost<span class=\"hljs-punctuation\">:</span><span class=\"hljs-number\">8080</span></mark>\n\n<span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"algorithm\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lingo\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"language\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"English\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"parameters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"preprocessing\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"documentAssigner\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-attr\">\"exactPhraseAssignment\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-keyword\">true</span>\n      <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"PDF Viewer on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Firefox PDF plugin to view PDF in browser on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Limit CPU usage for flash in Firefox?\"</span> <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span></code></pre>\n      <figcaption>\n        <p>\n          An example Carrot<sup>2</sup> REST API clustering request.\n        </p>\n      </figcaption>\n    </figure>\n\n\n    <p id=\"clustering:f5ebfaf2\">\n      The JSON object passed as request body supports the following properties:\n    </p>\n\n    <dl>\n      <dt id=\"clustering:request:algorithm\">algorithm</dt>\n      <dd>\n        <p id=\"clustering:283760e0\">\n          The algorithm to use to perform clustering, required. You can get the\n          list of clustering algorithms available in the DCS from\n          the <a href=\"#service-configuration\">service configuration</a> endpoint.\n        </p>\n      </dd>\n\n      <dt id=\"clustering:request:language\">language</dt>\n      <dd>\n        <p id=\"clustering:dce7531b\">\n          The language in which to perform clustering, required. You can get the\n          list of languages supported by each clustering algorithm from the\n          <a href=\"#service-configuration\">service configuration</a> endpoint.\n        </p>\n      </dd>\n\n      <dt id=\"clustering:request:documents\">documents</dt>\n      <dd>\n        <p id=\"clustering:2a887d46\">\n          Documents to cluster, required.\n        </p>\n\n        <p id=\"clustering:5fb685f4\">\n          Each element in the array represents one document. Each document is\n          a JSON object with property names denoting field names and\n          property values representing the text to cluster. Field values must be\n          strings or arrays of strings.\n        </p>\n\n        <p id=\"clustering:d836dafc\">\n          You should limit input documents to just those fields that should be\n          clustered.\n        </p>\n      </dd>\n\n      <dt id=\"clustering:request:parameters\">parameters</dt>\n      <dd>\n        <p id=\"clustering:2d30477c\">\n          Values of algorithm-specific parameters, optional. See the reference\n          page of a specific algorithm, such as <a href=\"/lingo-parameters/\">Lingo parameters</a>, for the list of\n          parameters and the JSON structure they are arranged in.\n        </p>\n\n        <p id=\"clustering:c44209ce\">\n          The easiest way to tune parameter values is to use Carrot<sup>2</sup>\n          Workbench, where you can observe the results in real-time and <a href=\"/tuning-clustering/#tuning-parameters:workbench\">get the\n          parameter JSON</a> ready to paste into your request.\n        </p>\n      </dd>\n    </dl>\n\n    <p id=\"clustering:a5624557\">\n      To encapsulate the common parts of the request, you can use the\n      <a href=\"/dcs-templates/\">request templates</a> feature.\n      Finally, the clustering endpoint supports a number of GET parameters\n      described in the <a href=\"#openapi\">OpenAPI</a> descriptor.\n    </p>\n\n    <p id=\"clustering:e0dcb7ff\">\n      The response will contain a JSON object similar to the one shown below.\n    </p>\n\n    <figure>\n      <pre><code data-language=\"json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"clusters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"labels\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-string\">\"Firefox\"</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-number\">1</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-number\">2</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"clusters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"score\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">0.17439038910197008</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"labels\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-string\">\"Windows\"</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-number\">0</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-number\">1</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"clusters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"score\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">0.2183744736336805</span>\n    <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span></code></pre></figure>\n\n    <p id=\"clustering:06a9c3d3\">\n      The <strong>clusters</strong> property contains a potentially recursive hierarchy of\n      document clusters, where each cluster has the following properties:\n    </p>\n\n    <dl>\n      <dt>labels</dt>\n      <dd>Cluster description label or labels.</dd>\n\n      <dt>documents</dt>\n      <dd>\n        An array of references to documents contained in the cluster. Each\n        reference is a 0-based index of the document within the <a href=\"#clustering:request:documents\">documents array</a> provided in the\n        clustering request.\n      </dd>\n\n      <dt>clusters</dt>\n      <dd>An array of subclusters of this cluster. The array will be empty if\n        the algorithm does not support hierarchical clustering or subclusters\n        could not be created.\n      </dd>\n\n      <dt>score</dt>\n      <dd>The cluster's quality score. The score is not normalized in any way but represents\n        relative quality of each cluster within this request.\n      </dd>\n    </dl>\n\n    <section id=\"clustering:simple-example\">\n      <h3>\n        <a class=\"anchor\" href=\"#clustering:simple-example\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Simple example\n      </h3>\n\n      <p id=\"clustering:simple-example:febc1fa0\">\n        To make a quick clustering test, create a file called <code>clustering-request.json</code>\n        with the following contents:\n      </p>\n\n      <pre><code data-language=\"json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"language\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"English\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"algorithm\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lingo\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"PDF Viewer on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Firefox PDF plugin to view PDF in browser on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Limit CPU usage for flash in Firefox?\"</span> <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span></code></pre>\n\n      <p id=\"clustering:simple-example:e4e882ca\">\n        We need to know the algorithm to be used for clustering and the language\n        in which our documents are written, so that an appropriate preprocessing\n        is applied to input text before clustering. In this example we will use\n        hardcoded values for the <code>Lingo</code> algorithm and the <code>English</code>\n        language.\n      </p>\n\n      <p id=\"clustering:simple-example:7e13e5e4\">\n        Assuming the DCS is running in the background, the clustering service's\n        default endpoint is at <code>http://localhost:8080/service/cluster</code>.\n        We are ready to send the above JSON for clustering using a command-line tool, such as\n        <code>curl</code>:\n      </p>\n\n      <pre><code data-language=\"bash\">curl -X POST --header <span class=\"hljs-string\">\"Content-Type: text/json\"</span> --data-binary @cluster-request.json <span class=\"hljs-string\">\"http://localhost:8080/service/cluster?indent\"</span></code></pre>\n\n      <p id=\"clustering:simple-example:1f8a1eac\">\n        Note the MIME type for JSON must be set to <code>Content-Type: text/json</code>.\n      </p>\n\n      <p id=\"clustering:simple-example:941325e8\">\n        The response contains puts documents <code>1</code> and <code>2</code>\n        in the <em>Firefox</em> cluster and documents <code>0</code> and\n        <code>1</code> in the <em>Windows</em> cluster. This illustrates the\n        fact that certain algorithms can assign the same document to multiple\n        clusters.\n      </p>\n\n      <pre><code data-language=\"json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"clusters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"labels\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-string\">\"Firefox\"</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-number\">1</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-number\">2</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"clusters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"score\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">0.17439038910197008</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"labels\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-string\">\"Windows\"</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-number\">0</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-number\">1</span>\n      <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"clusters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"score\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">0.2183744736336805</span>\n    <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span></code></pre>\n    </section>\n\n    <section id=\"per-request-dictionaries\">\n      <h3>\n        <a class=\"anchor\" href=\"#per-request-dictionaries\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Per-request dictionaries\n      </h3>\n\n      <p id=\"per-request-dictionaries:a8133284\">\n        This example will demonstrate how to override clustering algorithm\n        parameters and provide per-request label exclusions.\n      </p>\n\n      <p id=\"per-request-dictionaries:65c41daf\">\n        First, make the following clustering request:\n      </p>\n\n      <pre><code data-language=\"json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"algorithm\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lingo\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"language\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"English\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"PDF Viewer configuration issue on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Firefox plugin configuration issue on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"CPU usage for flash in Firefox\"</span> <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span></code></pre>\n\n      <p id=\"per-request-dictionaries:0ed94d83\">\n        You will notice that the algorithm created two clusters:\n        <em>Configuration Issue on Windows</em> and <em>Firefox</em>. Some\n        users may perceive the former phrase as non-informative and may\n        wish to re-run clustering with the phrase excluded from cluster labeling.\n      </p>\n\n      <p id=\"per-request-dictionaries:29f6c51c\">\n        You can achieve this by providing the <a href=\"/lingo-parameters/#dictionaries\">dictionaries</a> parameter for\n        the Lingo algorithm. The parameter specifies the label exclusions to\n        apply to the specific clustering request.\n      </p>\n\n      <p id=\"per-request-dictionaries:1913e8cc\">\n        The following request excludes from labelling all phrases containing\n        the word <em>issue</em> and also the word <em>configuration</em>.\n        See the <a href=\"/dictionaries/\">Dictionaries</a> page for a detailed\n        description of dictionary types and entry syntax.\n      </p>\n\n      <pre><code data-language=\"json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"algorithm\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lingo\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"language\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"English\"</span><span class=\"hljs-punctuation\">,</span>\n<mark>  <span class=\"hljs-attr\">\"parameters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span></mark>\n<mark>    <span class=\"hljs-attr\">\"dictionaries\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span></mark>\n<mark>      <span class=\"hljs-attr\">\"labelFilters\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span></mark>\n<mark>        <span class=\"hljs-punctuation\">{</span></mark>\n<mark>          <span class=\"hljs-attr\">\"glob\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span></mark>\n<mark>            <span class=\"hljs-string\">\"* issue *\"</span><span class=\"hljs-punctuation\">,</span></mark>\n<mark>            <span class=\"hljs-string\">\"configuration\"</span></mark>\n<mark>          <span class=\"hljs-punctuation\">]</span></mark>\n<mark>        <span class=\"hljs-punctuation\">}</span></mark>\n<mark>      <span class=\"hljs-punctuation\">]</span></mark>\n<mark>    <span class=\"hljs-punctuation\">}</span></mark>\n<mark>  <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span></mark>\n  <span class=\"hljs-attr\">\"documents\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"PDF Viewer configuration issue on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Firefox plugin configuration issue on Windows\"</span> <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span> <span class=\"hljs-attr\">\"title\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"CPU usage for flash in Firefox\"</span> <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span></code></pre>\n\n      <p id=\"per-request-dictionaries:2962c82e\">\n        With the extra label filters in place, the algorithm will create two\n        clusters labeled <em>Firefox</em> and <em>Windows</em>.\n      </p>\n    </section>\n  </section>\n\n  <section id=\"service-configuration\">\n    <h2>\n        <a class=\"anchor\" href=\"#service-configuration\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Service configuration\n      </h2>\n\n    <p id=\"service-configuration:cd14fdde\">\n      To receive the list of available clustering algorithms and languages,\n      make a GET request to the <code>/list</code> endpoint.\n    </p>\n\n    <figure>\n      <pre><code data-language=\"json\">GET /service/list HTTP/<span class=\"hljs-number\">1.1</span>\nHost<span class=\"hljs-punctuation\">:</span> localhost<span class=\"hljs-punctuation\">:</span><span class=\"hljs-number\">8080</span>\n\n<span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"algorithms\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"Bisecting K-Means\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n      <span class=\"hljs-string\">\"Arabic\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-string\">\"English\"</span><span class=\"hljs-punctuation\">,</span>\n      ...\n    <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"Lingo\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n      ...\n    <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"STC\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n      ...\n    <span class=\"hljs-punctuation\">]</span>\n  <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"templates\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"frontend-default\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"algorithm\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"English\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"language\"</span> <span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Lingo\"</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"lingo\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span> ... <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"stc\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span> ... <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"bkmeans\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span> ... <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span></code></pre>\n      <figcaption>\n        Carrot<sup>2</sup> REST API service configuration request and response.\n      </figcaption>\n    </figure>\n\n    <p id=\"service-configuration:508148a9\">\n      Note that each algorithm has an associated list of languages it supports.\n      The <code>templates</code> block enumerates preconfigured\n      <a href=\"/dcs-templates/\">request templates </a>.\n    </p>\n  </section>\n\n  <section id=\"models\">\n    <h2>\n        <a class=\"anchor\" href=\"#models\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Request and response Java models\n      </h2>\n\n    <p id=\"models:aac6336d\">\n      While it is perfectly fine to assemble the request JSON by hand, the DCS distribution\n      comes with data model Java classes that can be used to build request and parse responses.\n      The example shown in the previous section can be expressed in Java code by the\n      following snippet:\n    </p>\n\n    <pre><code data-language=\"java\"><span class=\"hljs-type\">LingoClusteringAlgorithm</span> <span class=\"hljs-variable\">algorithm</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LingoClusteringAlgorithm</span>();\nalgorithm.preprocessing.phraseDfThreshold.set(<span class=\"hljs-number\">1</span>);\nalgorithm.preprocessing.wordDfThreshold.set(<span class=\"hljs-number\">1</span>);\n\n<span class=\"hljs-type\">ClusterRequest</span> <span class=\"hljs-variable\">request</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ClusterRequest</span>();\nrequest.algorithm = LingoClusteringAlgorithm.NAME;\nrequest.language = <span class=\"hljs-string\">\"English\"</span>;\nrequest.parameters = Attrs.extract(algorithm);\nrequest.documents =\n    Stream.of(<span class=\"hljs-string\">\"foo bar\"</span>, <span class=\"hljs-string\">\"bar\"</span>, <span class=\"hljs-string\">\"baz\"</span>)\n        .map(\n            value -&gt; {\n              ClusterRequest.<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">doc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ClusterRequest</span>.Document();\n              doc.setField(<span class=\"hljs-string\">\"field\"</span>, value);\n              <span class=\"hljs-keyword\">return</span> doc;\n            })\n        .collect(Collectors.toList());</code></pre>\n\n    <p id=\"models:8179d108\">\n      The request can be then serialized into JSON using the\n      <a href=\"https://github.com/FasterXML/jackson\">Jackson</a> library. The DCS Java examples\n      contain a few command-line applications that make extensive use of these model classes, please\n      refer to them for details.\n    </p>\n\n    <p id=\"models:f72a4a79\">\n      Alternatively, the <a href=\"#openapi\">OpenAPI descriptor</a>\n      can be used to generate service binding code for Java and many other languages.\n    </p>\n  </section>\n\n  <section id=\"openapi\">\n    <h2>\n        <a class=\"anchor\" href=\"#openapi\" aria-hidden=\"true\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OpenAPI service descriptor\n      </h2>\n\n    <p id=\"openapi:026befa8\">\n      The DCS comes with an <a href=\"https://github.com/OAI/OpenAPI-Specification\">OpenAPI</a>\n      service specification descriptor, by default accessible at:\n      <a href=\"http://localhost:8080/service/openapi/dcs.yaml\">http://localhost:8080/service/openapi/dcs.yaml</a>\n      This descriptor contains documentation and working examples for all service endpoints and\n      parameters.\n    </p>\n\n    <p id=\"openapi:2393c35c\">\n      The DCS ships with three OpenAPI specification browsers:\n    </p>\n\n    <ul>\n      <li id=\"openapi:08a74f5f\"><a href=\"http://localhost:8080/service/openapi/swagger/index.html\">Swagger</a> (recommended),</li>\n      <li id=\"openapi:ddaa14ca\"><a href=\"http://localhost:8080/service/openapi/rapidoc/index.html\">RapiDoc</a>,</li>\n      <li id=\"openapi:36c4baf5\"><a href=\"http://localhost:8080/service/openapi/redoc/index.html\">ReDoc</a>.</li>\n    </ul>\n\n    <figure class=\"round\">\n      <div class=\"img\" style=\"position: relative\"><span style=\"padding-bottom: 55.55555555555556%; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABu0lEQVQoz3WSSY7UQBBFfVK2IGgVNXAFFrDkAEhcgBtwCzbNgl6UoIsabGc65+mhTFdZDYiwnsJKpSJ+/Mjuw7st682G1eqOu7uXrNev2e42bLf/581uzav1jk9vX/Dw8Rmf3z9ntdmy223pTvorg/qODWcSIxlBQZL/QSyka3ZFoJLApBGfz/go6aTZM00KOQm8dzhnsc62/JQQIz54QgyUkskltwwZ2n/CB0M3THuUstTIOZNS+ot6FhnPB+Q4tCKlFErhSlmyD5ZuVHukUAhZFXrmKDyN2t1++4J9vCfooTX+k0L9WkHtD+QMWutGjJEQwpKrylwSun9EigGjNdZajDEt13veOYI3DMOZzsZjU5Fyahecc03pjVo054gaTzhrlyaz8nmSkiIETd+f6IT5gVaz8fViLdJUXf3MKc0jO4/SkpDc4lltXpUaY8ml0FeFg3jgePjF8XTkcrk0+r5HSsk0TQg5EaJvi2lbzmVRp5RaqC+kFRTjPWbscT6QYmyepKaqNIIWpDB7ZZ0jJztvGlqh2rRirbmN/BOlLc6rNubt+VSv2nKCJ+d5SfE6/q1ZPbtZU19GVfgbkOE8iC+W7fIAAAAASUVORK5CYII=')\" class=\"preview \"> </span><img class=\"\" alt=\"RapiDoc's representation of DCS's OpenAPI descriptor.\" title=\"\" src=\"../static/26a045e925695bbbff2c77d868561770/eefce/rapidoc.png\" srcset=\"../static/26a045e925695bbbff2c77d868561770/dfaee/rapidoc.png 180w,\n../static/26a045e925695bbbff2c77d868561770/4d463/rapidoc.png 360w,\n../static/26a045e925695bbbff2c77d868561770/eefce/rapidoc.png 720w,\n../static/26a045e925695bbbff2c77d868561770/dabea/rapidoc.png 1080w,\n../static/26a045e925695bbbff2c77d868561770/87339/rapidoc.png 1440w,\n../static/26a045e925695bbbff2c77d868561770/83ee4/rapidoc.png 2440w\" sizes=\"(max-width: 720px) 100vw, 720px\"></div>\n      <figcaption>\n        <p>\n          RapiDoc's representation of DCS's OpenAPI descriptor.\n        </p>\n      </figcaption>\n    </figure>\n  </section>\n</article>","tableOfContents":[{"heading":"Installation and running","anchor":"installation"},{"heading":"API workflow","anchor":"workflow"},{"heading":"Clustering","anchor":"clustering","sections":[{"heading":"Simple example","anchor":"clustering:simple-example"},{"heading":"Per-request dictionaries","anchor":"per-request-dictionaries"}]},{"heading":"Service configuration","anchor":"service-configuration"},{"heading":"Request and response Java models","anchor":"models"},{"heading":"OpenAPI service descriptor","anchor":"openapi"}]}},"pageContext":{"slug":"/rest-api-basics/"}},"staticQueryHashes":["2081922839"]}